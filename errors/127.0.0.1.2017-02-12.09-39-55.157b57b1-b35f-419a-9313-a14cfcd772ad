(dp1
S'output'
p2
S"<type 'exceptions.KeyError'> 'juego_respuestas'"
p3
sS'layer'
p4
S'/opt/python/web2py-files/web2py/applications/proyect/controllers/especialista.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\n# this file is released under public domain and you can use without limitations\ndef listado_preguntas():\n    if request.cid:\n\n        preguntas = []\n\n        if request.vars.diagnostico:\n            diagnostico = db.diagnostico(request.vars.diagnostico)\n            if diagnostico:\n                preguntas = diagnostico.pregunta\n            else:\n                raise HTTP(403)\n        else:\n            raise HTTP(502)\n\n        fields = [db.pregunta.texto, db.pregunta.respuesta, db.pregunta.tipo, db.pregunta.puntos]\n\n        preguntas = db(db.pregunta.id.belongs(preguntas)).select()\n\n        response.headers[\'web2py-component-flash\']=T("Listado de preguntas")\n        return dict(preguntas=preguntas)\n    else:\n        raise HTTP(403)\n\ndef listado_diagnostico():\n    if request.cid:\n        fields = [db.diagnostico.titulo, db.diagnostico.descripcion, db.diagnostico.activo, db.diagnostico.tipo]\n\n        grid = SQLFORM.grid(db.diagnostico.tipo == 0, fields=fields, create=False, editable=True, exportclasses=dict(xml=False, html=False, json=False, csv_with_hidden_cols=False, tsv_with_hidden_cols=False, csv=False, tsv=False))\n        return dict(grid=grid)\n    else:\n        raise HTTP(403)\n\n\n@auth.requires_membership("Especialista")\ndef lista_diagnostico():\n    \n    fields = [db.diagnostico.titulo, db.diagnostico.descripcion, db.diagnostico.activo, db.diagnostico.tipo]\n\n    grid = SQLFORM.grid(db.diagnostico.tipo == 0, fields=fields, create=False, editable=True, exportclasses=dict(xml=False, html=False, json=False, csv_with_hidden_cols=False, tsv_with_hidden_cols=False, csv=False, tsv=False))\n\n\n    response.title = T("Listado de Diagn\xc3\xb3stico") + response.title\n    return dict(grid=grid)\n\n@auth.requires_membership("Especialista")\ndef nuevo_diagnostico():\n    response.flash = T("Nuevo Diagn\xc3\xb3stico")\n    response.title = T("Nuevo Diagn\xc3\xb3stico") + response.title\n\n    form = SQLFORM(db.diagnostico, fields=[\'juego_respuestas\', \'descripcion\', \'activo\', \'tiempo\', \'intentos\'])\n\n    if form.validate():\n        diagnostico = dict(form.vars)\n        diagnostico[\'tipo\'] = 0\n        form.vars.id = db.diagnostico.insert(**diagnostico)\n\n        response.flash = T(\'Nuevo cuestionario Diagn\xc3\xb3stico Inicial insertado\')\n\n    elif form.errors:\n        response.flash = T(\'El formulario tiene errores\')\n    else:\n        response.flash = T(\'Por favor complete el formulario\')\n    return dict(form=form)\n\n@auth.requires_membership("Especialista")\ndef asignar_diagnostico():\n    response.flash = T("Asignar Diagn\xc3\xb3stico")\n    response.title = T("Asignar Diagn\xc3\xb3stico") + response.title\n    return dict()\n\nresponse._vars=response._caller(nuevo_diagnostico)\n'
p7
sS'snapshot'
p8
(dp9
sS'traceback'
p10
S'Traceback (most recent call last):\n  File "/opt/python/web2py-files/web2py/gluon/restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "/opt/python/web2py-files/web2py/applications/proyect/controllers/especialista.py", line 73, in <module>\n  File "/opt/python/web2py-files/web2py/gluon/globals.py", line 417, in <lambda>\n    self._caller = lambda f: f()\n  File "/opt/python/web2py-files/web2py/gluon/tools.py", line 4241, in f\n    return action(*a, **b)\n  File "/opt/python/web2py-files/web2py/applications/proyect/controllers/especialista.py", line 52, in nuevo_diagnostico\n    form = SQLFORM(db.diagnostico, fields=[\'juego_respuestas\', \'descripcion\', \'activo\', \'tiempo\', \'intentos\'])\n  File "/opt/python/web2py-files/web2py/gluon/sqlhtml.py", line 1194, in __init__\n    else self.extra_fields[fieldname])\nKeyError: \'juego_respuestas\'\n'
p11
s.